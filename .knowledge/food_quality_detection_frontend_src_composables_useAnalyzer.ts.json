{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Vue composable `useAnalyzer` which manages image analysis logic, including file validation, preview generation, API interaction for analysis, and mock mode toggling.", "external_files": ["@/services/api"], "external_methods": ["analyzeImage", "isMockMode"], "published": ["useAnalyzer"], "classes": [], "methods": [{"name": "useAnalyzer", "description": "Main function that provides reactive state and methods for image analysis workflow."}, {"name": "async function analyze() { analyze", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function reset() { reset", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function setFile(f: File) { setFile", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function toggleMockMode(on: boolean) { toggleMockMode", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function validateFile(f: File): string | null { validateFile", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["analyzeImage", "isMockMode"], "search-terms": ["useAnalyzer", "vue composable", "file validation", "image analysis", "preview URL", "mock mode"], "state": 2, "file_id": 20, "knowledge_revision": 41, "git_revision": "", "ctags": [{"_type": "tag", "name": "AnalysisResult", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^import { analyzeImage, isMockMode, type AnalyzeResponse, type AnalysisResult } from '@\\/services/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "AnalyzeResponse", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^import { analyzeImage, isMockMode, type AnalyzeResponse, type AnalysisResult } from '@\\/services/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "MAX_FILE_SIZE_MB", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^const MAX_FILE_SIZE_MB = 15$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SUPPORTED_TYPES", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^const SUPPORTED_TYPES = ['image\\/jpeg', 'image\\/png', 'image\\/webp', 'image\\/heic', 'image\\/heif/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "analyze", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  async function analyze() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "canAnalyze", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const canAnalyze = computed(() => !!file.value && !loading.value)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const error = ref<string | null>(null)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "export", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^export function useAnalyzer() {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "file", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const file = ref<File | null>(null)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const loading = ref(false)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mockMode", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const mockMode = ref(isMockMode())$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "previewUrl", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const previewUrl = ref<string | null>(null)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^      const res: AnalyzeResponse = await analyzeImage(file.value)$/", "language": "TypeScript", "kind": "constant", "scope": "analyze", "scopeKind": "function"}, {"_type": "tag", "name": "reset", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  function reset() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const result = ref<AnalysisResult | null>(null)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "setFile", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  function setFile(f: File) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "sizeMB", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^    const sizeMB = f.size \\/ (1024 * 1024)$/", "language": "TypeScript", "kind": "constant", "scope": "validateFile", "scopeKind": "function"}, {"_type": "tag", "name": "toggleMockMode", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  function toggleMockMode(on: boolean) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "useAnalyzer", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^export function useAnalyzer() {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "v", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^    const v = validateFile(f)$/", "language": "TypeScript", "kind": "constant", "scope": "setFile", "scopeKind": "function"}, {"_type": "tag", "name": "validateFile", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  function validateFile(f: File): string | null {$/", "language": "TypeScript", "kind": "function"}], "hash": "6fdc4e24aa860027b9189689c6c12283", "format-version": 4, "code-base-name": "food_quality_detection_frontend", "filename": "food_quality_detection_frontend/src/composables/useAnalyzer.ts", "revision_history": [{"41": ""}]}