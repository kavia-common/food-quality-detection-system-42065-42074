{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Vue.js composition function 'useAnalyzer' for handling image file analysis within a frontend application. It manages file validation, preview creation, invoking analysis APIs, and toggling mock mode for testing.", "external_files": ["@/services/api"], "external_methods": ["analyzeImage", "isMockMode", "loadAssessmentFromFile"], "published": ["useAnalyzer"], "classes": [], "methods": [{"name": "export function useAnalyzer() { useAnalyzer", "description": "Main function providing reactive state and methods for image analysis workflow.", "scope": "", "scopeKind": ""}, {"name": "reset", "description": "Resets the file selection and analysis result, revokes object URLs."}, {"name": "validateFile", "description": "Validates the selected file for type and size constraints."}, {"name": "setFile", "description": "Sets a new file for analysis after validation, creating a preview URL."}, {"name": "analyze", "description": "Performs analysis on the selected image file by calling the API."}, {"name": "loadAssessment", "description": "Loads an assessment JSON file and sets it as the current analysis result."}, {"name": "toggleMockMode", "description": "Toggles mock mode for testing purposes."}], "calls": ["analyzeImage(file.value)", "loadAssessmentFromFile(file)"], "search-terms": ["useAnalyzer", "analyzeImage", "loadAssessmentFromFile", "mockMode", "file validation", "image analysis"], "state": 2, "file_id": 20, "knowledge_revision": 49, "git_revision": "cb87952ef6fad273edd892f61191816541fdd8bd", "revision_history": [{"41": ""}, {"49": "cb87952ef6fad273edd892f61191816541fdd8bd"}], "ctags": [{"_type": "tag", "name": "ASSESSMENT_MIME_TYPES", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^const ASSESSMENT_MIME_TYPES = ['application\\/json']$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "AnalysisResult", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^import { analyzeImage, isMockMode, loadAssessmentFromFile, type AnalyzeResponse, type AnalysisRe/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "AnalyzeResponse", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^import { analyzeImage, isMockMode, loadAssessmentFromFile, type AnalyzeResponse, type AnalysisRe/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "MAX_FILE_SIZE_MB", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^const MAX_FILE_SIZE_MB = 15$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SUPPORTED_TYPES", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^const SUPPORTED_TYPES = ['image\\/jpeg', 'image\\/png', 'image\\/webp', 'image\\/heic', 'image\\/heif/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "canAnalyze", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const canAnalyze = computed(() => !!file.value && !loading.value)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "const", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^const ASSESSMENT_MIME_TYPES = ['application\\/json']$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const error = ref<string | null>(null)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "file", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const file = ref<File | null>(null)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const loading = ref(false)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "mockMode", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const mockMode = ref(isMockMode())$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "previewUrl", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const previewUrl = ref<string | null>(null)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^      const res = await loadAssessmentFromFile(file)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^      const res: AnalyzeResponse = await analyzeImage(file.value)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^  const result = ref<AnalysisResult | null>(null)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "sizeMB", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^    const sizeMB = f.size \\/ (1024 * 1024)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}, {"_type": "tag", "name": "useAnalyzer", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^export function useAnalyzer() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "v", "path": "/home/kavia/workspace/code-generation/food-quality-detection-system-42065-42074/food_quality_detection_frontend/src/composables/useAnalyzer.ts", "pattern": "/^    const v = validateFile(f)$/", "language": "TypeScript", "kind": "constant", "scope": "useAnalyzer", "scopeKind": "function"}], "hash": "0c308328e0c986636cb35e7741329c81", "format-version": 4, "code-base-name": "food_quality_detection_frontend", "filename": "food_quality_detection_frontend/src/composables/useAnalyzer.ts"}